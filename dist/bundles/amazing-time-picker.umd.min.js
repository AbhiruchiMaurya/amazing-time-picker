!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs/Subject")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","rxjs/Subject"],t):t(e["amazing-time-picker"]={},e.ng.core,e.ng.common,e.Rx)}(this,function(e,t,i,r){"use strict";var n=function(){function e(){var e=this;this.selectedTime=new t.EventEmitter,this.subject=null,this.activeModal=!1,this.clockType="hour",this.hour=12,this.minute=0,this.ampm="AM",this.nowTime=this.hour,this.clockMaker=function(){var t=e.clockType;e.clockObject=[];for(var i="minute"===t?60:12,r="minute"===t?5:1,n="minute"===t?0:1;n<=i;n+=r)if(60!==n){var o=String(n),c=99*Math.sin(2*Math.PI*(n/i)),p=99*Math.cos(2*Math.PI*(n/i));e.clockObject.push({time:o,left:c+124-17+"px",top:124-p-17+"px",type:t})}e.setArrow(null)},this.setActiveTime=function(){e.nowTime="minute"===e.clockType?e.minute:e.hour},this.setArrow=function(t){t&&(e.clockType=t.type,"minute"===e.clockType?e.minute=t.time:e.hour=t.time);var i="minute"===e.clockType?6:30,r=("minute"===e.clockType?e.minute:e.hour)*i;e.rotationClass(r),e.setActiveTime()},this.rotationClass=function(t){e.degree=t},this.getDegree=function(t){var i="minute"===e.clockType?6:30,r=t.currentTarget.getBoundingClientRect();if(e.isClicked&&(t.currentTarget===t.target||"BUTTON"===t.target.nodeName)){var n=t.currentTarget.offsetWidth/2,o=t.currentTarget.offsetHeight/2,c=Math.round(t.clientX-r.left-n),p=Math.round(o-(t.clientY-r.top)),a=-Math.atan2(p,c);console.log(a),a+=2.5*Math.PI;var s=Math.round(180*a/Math.PI);console.log(s);var m=s%i;if(0===m)return;m>=i/2?s+=i-m:m<i/2&&(s-=m),e.rotationClass(s),"hour"===e.clockType?(e.hour=s/i,e.hour=e.hour>12?e.hour-12:e.hour):"minute"===e.clockType&&(e.minute=s/i,e.minute=e.minute>59?e.minute-60:e.minute),e.setActiveTime()}}}return e.prototype.ParseStringToTime=function(e){var t=(e=""===e||e===undefined||null===e?this.hour+":"+this.minute:e).split(":"),i=t[0],r=t[1],n=+i>12?+i-12:+i;n=0===n?12:n,this.hour=n,this.minute=+r;var o=+i>=12?"PM":"AM";this.ampm=o},e.prototype.GetTime=function(){var e="PM"===this.ampm?+this.hour+12:+this.hour;"AM"===this.ampm&&12===e&&(e=0),24===e&&(e=12);var t=(e=e<10?"0"+e:""+e)+":"+(this.minute<10?"0"+this.minute:this.minute);this.selectedTime.emit(t),this.subject.next(t)},e.prototype.modalAnimation=function(){var e=this;setTimeout(function(){e.activeModal=!0},1)},e.prototype.ngOnInit=function(){this.clockMaker(),this.modalAnimation()},e.prototype.Close=function(e){var t=this;e.target===e.currentTarget&&(this.activeModal=!1,setTimeout(function(){t.appRef.detachView(t._ref.hostView),t._ref.destroy()},400))},e}();n.decorators=[{type:t.Component,args:[{selector:"time-picker",template:'\n    <div id="time-picker-wrapper" class="{{config.theme}}" [ngClass]="{\'active\': activeModal}" (click)="Close($event);">\n      <div id="time-picker" [ngClass]="{\'active\': activeModal}">\n        <div class="time-picker-header">\n          <div class="time-picker-selected-time">\n              <div class="time-picker-hour" (click)="clockType=\'hour\';clockMaker()" [ngClass]="{\'selected\' : clockType == \'hour\'}">{{hour}}</div>\n              <span class="time-seprator">:</span>\n              <div class="time-picker-minute" (click)="clockType=\'minute\';clockMaker()" [ngClass]="{\'selected\' : clockType == \'minute\'}">{{minute}}</div>\n          </div>\n          <div class="time-picker-selected-ampm">\n            <div class="time-picker-am" (click)="ampm = \'AM\';" [ngClass]="{\'selected\' : ampm == \'AM\'}">AM</div>\n            <div class="time-picker-pm" (click)="ampm = \'PM\';" [ngClass]="{\'selected\' : ampm == \'PM\'}">PM</div>\n          </div>\n        </div>\n        <div class="time-picker-content">\n            <div class="time-picker-clock" (mousemove)="getDegree($event);" (mousedown)="isClicked = true;getDegree($event);" (mouseup)="isClicked = false;">\n              <button *ngFor="let clock of clockObject" [ngClass]="{\'active\' : nowTime == clock.time}" \n                [id]="\'timepicker-item-id-\' + clock.time" \n                [ngStyle]="{top: clock.top,left: clock.left, color: nowTime == clock.time ? config.arrowStyle.color : config.theme == \'light\' ? \'#000\' : \'#eee\', background: nowTime == clock.time ? config.arrowStyle.background : \'transparent\'}">\n                {{clock.time}}\n              </button>\n              <div class="time-picker-clock-origin" [ngStyle]="{ background: config.arrowStyle.background}"></div>\n              <div id="tpc-arrow" class="time-picker-clock-arrow" [ngStyle]="{transform: \'rotate(\' + this.degree + \'deg)\',\'-webkit-transform\': \'rotate(\' + this.degree + \'deg)\', background: config.arrowStyle.background}">\n                <span [ngStyle]="{ background: config.arrowStyle.background }"></span>\n              </div>\n            </div>\n        </div>\n        <div class="time-picker-footer">\n            <button (click)="Close($event);">Cancel</button>\n            <button (click)="GetTime();Close($event);" class="atp-ref-dialog-close">OK</button>\n        </div>\n      </div>\n    </div>\n  ',styles:["\n    #time-picker-wrapper {\n      position: fixed;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background: transparent;\n      -webkit-transition: background 0.4s;\n      transition: background 0.4s;\n      font-family: 'Roboto', sans-serif;\n      z-index: 1000; }\n      #time-picker-wrapper.active {\n        background: rgba(0, 0, 0, 0.3); }\n      #time-picker-wrapper.dark #time-picker {\n        background: #424242; }\n        #time-picker-wrapper.dark #time-picker .time-picker-header {\n          border-bottom: none;\n          background: #555555; }\n          #time-picker-wrapper.dark #time-picker .time-picker-header .time-picker-selected-time {\n            color: #999; }\n            #time-picker-wrapper.dark #time-picker .time-picker-header .time-picker-selected-time div.selected {\n              color: #fff; }\n          #time-picker-wrapper.dark #time-picker .time-picker-header .time-picker-selected-ampm {\n            color: #999; }\n            #time-picker-wrapper.dark #time-picker .time-picker-header .time-picker-selected-ampm div.selected {\n              color: #fff; }\n        #time-picker-wrapper.dark #time-picker .time-picker-clock {\n          background: #555555; }\n        #time-picker-wrapper.dark #time-picker .time-picker-footer {\n          border-top: none; }\n          #time-picker-wrapper.dark #time-picker .time-picker-footer button {\n            background: #555555;\n            color: #fff; }\n            #time-picker-wrapper.dark #time-picker .time-picker-footer button:hover {\n              background: #777; }\n      #time-picker-wrapper.light #time-picker {\n        background: #fff; }\n        #time-picker-wrapper.light #time-picker .time-picker-header {\n          border-bottom: 1px solid #e1e1e1; }\n          #time-picker-wrapper.light #time-picker .time-picker-header .time-picker-selected-time {\n            color: #aaa; }\n            #time-picker-wrapper.light #time-picker .time-picker-header .time-picker-selected-time div.selected {\n              color: #000; }\n          #time-picker-wrapper.light #time-picker .time-picker-header .time-picker-selected-ampm {\n            color: #aaa; }\n            #time-picker-wrapper.light #time-picker .time-picker-header .time-picker-selected-ampm div.selected {\n              color: #000; }\n        #time-picker-wrapper.light #time-picker .time-picker-clock {\n          background: #ededed; }\n        #time-picker-wrapper.light #time-picker .time-picker-footer {\n          border-top: 1px solid #e1e1e1; }\n          #time-picker-wrapper.light #time-picker .time-picker-footer button {\n            background: #f1f1f1; }\n            #time-picker-wrapper.light #time-picker .time-picker-footer button:hover {\n              background: #ddd; }\n      #time-picker-wrapper #time-picker {\n        width: 325px;\n        height: auto;\n        -webkit-box-shadow: 0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);\n                box-shadow: 0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);\n        border-radius: 2px;\n        margin: 15vh auto !important;\n        -webkit-transform: scale(0.5) !important;\n                transform: scale(0.5) !important;\n        -webkit-transition: opacity 0.3s, -webkit-transform 0.3s;\n        transition: opacity 0.3s, -webkit-transform 0.3s;\n        transition: transform 0.3s, opacity 0.3s;\n        transition: transform 0.3s, opacity 0.3s, -webkit-transform 0.3s;\n        opacity: 0; }\n        #time-picker-wrapper #time-picker.active {\n          -webkit-transform: scale(1) !important;\n                  transform: scale(1) !important;\n          opacity: 1; }\n        #time-picker-wrapper #time-picker .time-picker-header {\n          text-align: center;\n          padding: 15px 0px; }\n          #time-picker-wrapper #time-picker .time-picker-header .time-picker-selected-time {\n            font-size: 35px;\n            padding: 5px 0px; }\n            #time-picker-wrapper #time-picker .time-picker-header .time-picker-selected-time div {\n              display: inline-block;\n              cursor: pointer; }\n          #time-picker-wrapper #time-picker .time-picker-header .time-picker-selected-ampm {\n            font-size: 18px; }\n            #time-picker-wrapper #time-picker .time-picker-header .time-picker-selected-ampm div {\n              display: inline-block;\n              padding: 0 5px;\n              cursor: pointer; }\n        #time-picker-wrapper #time-picker .time-picker-content .time-picker-clock {\n          width: 200px;\n          height: 200px;\n          padding: 24px;\n          border-radius: 50%;\n          cursor: pointer;\n          margin: 25px auto;\n          position: relative;\n          user-select: none;\n          -moz-user-select: none;\n          -ms-user-select: none;\n          -webkit-user-select: none; }\n          #time-picker-wrapper #time-picker .time-picker-content .time-picker-clock button {\n            border: none;\n            background: transparent;\n            position: absolute;\n            width: 35px;\n            height: 35px;\n            border-radius: 50%;\n            cursor: pointer;\n            font-size: 17px;\n            text-align: center;\n            padding: 0;\n            -webkit-transition: all .2s;\n            transition: all .2s;\n            z-index: 3; }\n            #time-picker-wrapper #time-picker .time-picker-content .time-picker-clock button:hover {\n              background: #fafafa; }\n            #time-picker-wrapper #time-picker .time-picker-content .time-picker-clock button.active {\n              background: blue;\n              color: #fff; }\n          #time-picker-wrapper #time-picker .time-picker-content .time-picker-clock .time-picker-clock-origin {\n            width: 6px;\n            height: 6px;\n            border-radius: 50%;\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            margin-left: -3px;\n            margin-top: -3px; }\n          #time-picker-wrapper #time-picker .time-picker-content .time-picker-clock .time-picker-clock-arrow {\n            width: 2px;\n            height: 41%;\n            background: blue;\n            position: absolute;\n            left: 0;\n            top: 22px;\n            right: 0;\n            margin: auto;\n            -webkit-transform-origin: top left;\n            transform-origin: bottom; }\n            #time-picker-wrapper #time-picker .time-picker-content .time-picker-clock .time-picker-clock-arrow span {\n              width: 8px;\n              height: 8px;\n              border-radius: 50%;\n              position: absolute;\n              top: 0;\n              right: -3px; }\n        #time-picker-wrapper #time-picker .time-picker-footer {\n          padding: 15px;\n          text-align: right; }\n          #time-picker-wrapper #time-picker .time-picker-footer button {\n            border: transparent;\n            margin-left: 10px;\n            padding: 10px;\n            font-size: 14px;\n            border-radius: 2px;\n            cursor: pointer; }\n\n    * {\n      outline: none;\n      -webkit-box-sizing: content-box;\n              box-sizing: content-box; }\n  "]}]}],n.ctorParameters=function(){return[]},n.propDecorators={selectedTime:[{type:t.Output}]};var o=function(){function e(e,t,i){this.resolver=e,this.appRef=t,this.injector=i}return e.prototype.open=function(e){(e={time:(e=e||{}).time||"00:00",theme:["light","dark"].indexOf(e.theme)>0?e.theme:"light",arrowStyle:e.arrowStyle||{}}).arrowStyle={background:e.arrowStyle.background?e.arrowStyle.background:e.theme!==undefined&&"dark"===e.theme?"rgb(128, 203, 196)":"blue",color:e.arrowStyle.color||"#fff"};var t=this.resolver.resolveComponentFactory(n).create(this.injector);this.appRef.attachView(t.hostView);var i=t.hostView.rootNodes[0];return document.body.appendChild(i),t.instance.subject=new r.Subject,t.instance._ref=t,t.instance.appRef=this.appRef,t.instance.timerElement="",t.instance.config=e,t.instance.ParseStringToTime(e.time),{afterClose:function(){return t.instance.subject.asObservable()}}},e}();o.decorators=[{type:t.Injectable}],o.ctorParameters=function(){return[{type:t.ComponentFactoryResolver},{type:t.ApplicationRef},{type:t.Injector}]};var c=function(){function e(e,t,i){this.resolver=e,this._ref=t,this.atp=i,this._state="container",this._validStates=["container","icon","input"],this._icon=!0,this._disabled=!1}return Object.defineProperty(e.prototype,"icon",{set:function(e){this._icon="true"===e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{set:function(e){this._disabled="true"===e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{set:function(e){this._state=e},enumerable:!0,configurable:!0}),e.prototype.set=function(){var e=this.container.element.nativeElement;this.atp.open(e.value).afterClose().subscribe(function(t){e.value=t})},e.prototype.ngAfterViewInit=function(){var e=this,t=this._state.toLowerCase();if(this._validStates.indexOf(t)>-1){var i=this._ref.nativeElement.querySelectorAll("[data-target*="+t+"]");if(i)for(var r=0,n=i;r<n.length;r++)n[r].addEventListener("click",function(t){e.set()})}},e}();c.decorators=[{type:t.Component,args:[{selector:"atp-time-picker",template:'\n    <div class=\'atp-time-picker\'>\n      <div class="icon-container" data-target="container-icon" >\n        <svg *ngIf="_icon" style="width:24px;height:24px" viewBox="0 0 24 24">\n          <path fill="#000000" d="M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z" />\n        </svg>\n        <ng-content select="i"></ng-content>\n      </div>\n      <input type="time" data-target="container-input" value="{{value}}" [disabled]="_disabled"  #container>\n    </div>\n  ',styles:["\n    .atp-time-picker .icon-container {\n      display: inline-block;\n      margin-right: .2em; }\n      .atp-time-picker .icon-container svg {\n        cursor: pointer;\n        position: relative;\n        top: .5em; }\n      .atp-time-picker .icon-container /deep/ i {\n        cursor: pointer; }\n  "]}]}],c.ctorParameters=function(){return[{type:t.ComponentFactoryResolver},{type:t.ElementRef},{type:o}]},c.propDecorators={container:[{type:t.ViewChild,args:["container",{read:t.ViewContainerRef}]}],icon:[{type:t.Input}],disabled:[{type:t.Input}],state:[{type:t.Input}],value:[{type:t.Input}],"class":[{type:t.Input}]};var p=function(){function e(e,i){this.viewContainerRef=e,this.atp=i,this.myClick=new t.EventEmitter}return e.prototype.onClick=function(e){var t=this.viewContainerRef.element.nativeElement,i=t.getAttribute("value"),r=t.getAttribute("theme"),n=t.getAttribute("arrowStyle");n=n?JSON.parse(n.replace(new RegExp("'","g"),'"')):"";this.atp.open({time:i,theme:r,arrowStyle:n}).afterClose().subscribe(function(e){t.value=e})},e}();p.decorators=[{type:t.Directive,args:[{selector:"input[atp-time-picker]"}]}],p.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:o}]},p.propDecorators={myClick:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click",["$event"]]}]};var a=function(){return function(){}}();a.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],declarations:[n,c,p],providers:[o],entryComponents:[n],exports:[n,c,p]}]}],a.ctorParameters=function(){return[]},e.AmazingTimePickerModule=a,e.AmazingTimePickerService=o,e.ɵb=c,e.ɵc=p,e.ɵa=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=amazing-time-picker.umd.min.js.map
